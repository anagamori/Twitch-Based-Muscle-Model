%==========================================================================
% new_model_parameterFit_ST_length.m
% Author: Akira Nagamori
% Last update: 2/22/119
%==========================================================================

close all
clear all
clc

%% Folder name
code_folder = '/Users/akira/Documents/GitHub/Twitch-Based-Muscle-Model';
data_folder = '/Users/akira/Documents/GitHub/Twitch-Based-Muscle-Model/Data';

%% 
trialN = 1;
param_Matrix_1 = zeros(10,11);
param_Matrix_2 = zeros(10,11);
param_Matrix_3 = zeros(10,11);
param_Matrix_4 = zeros(10,11);

cd(data_folder)
load(['Data_' num2str(trialN)])
param = Data{2,12};
cd(code_folder)

k_3 = param_Matrix_1(:,5);
k_4 = 
for i = 1:10
    i
    cd(data_folder)
    load(['Data_' num2str(trialN) '_' num2str(i+10)])
    cd(code_folder)    
    param_Matrix_1(i,:) = Data{2,12};
    Data{2,8}
    cd(data_folder)
    load(['Data_' num2str(trialN) '_' num2str(i+20)])
    cd(code_folder)
    param_Matrix_2(i,:) = Data{2,12};
    Data{2,8}
    cd(data_folder)
    load(['Data_' num2str(trialN) '_' num2str(i+30)])
    cd(code_folder)
    param_Matrix_3(i,:) = Data{2,12};
    Data{2,8}
    cd(data_folder)
    load(['Data_' num2str(trialN) '_' num2str(i+40)])
    cd(code_folder)
    param_Matrix_4(i,:) = Data{2,12};
    Data{2,8}
end

%% 
L0_long = [0.8 0.9 1.1 1.2];
L0_vec = [0.8*ones(10,1);0.9*ones(10,1);1.1*ones(10,1);1.2*ones(10,1)];

k_3_long = [param_Matrix_1(:,5) param_Matrix_2(:,5) param_Matrix_3(:,5) param_Matrix_4(:,5)]';
k_3_vec = reshape(k_3_long',[],1);

k_4_long = [param_Matrix_1(:,6) param_Matrix_2(:,6) param_Matrix_3(:,6) param_Matrix_4(:,6)]';
k_4_vec = reshape(k_4_long',[],1);

N_long = [param_Matrix_1(:,9) param_Matrix_2(:,9) param_Matrix_3(:,9) param_Matrix_4(:,9)]';
N_vec = reshape(N_long',[],1);

K_long = [param_Matrix_1(:,10) param_Matrix_2(:,10) param_Matrix_3(:,10) param_Matrix_4(:,10)]';
K_vec = reshape(K_long',[],1);



